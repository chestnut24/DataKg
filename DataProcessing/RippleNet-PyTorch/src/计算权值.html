<script>
    let a = [2128, 2128, 2167, 2095, 1209]
    let b = [52, 137, 348, 1571, 216]
    let fre = []
    let w = []
    let w2 = []
    let sum1 = 0
    let sum2 = 0
    for (let i = 0; i < 5; i++) {
        fre.push(b[i] / a[i]);
        sum1 += fre[i]
    }
    console.log(sum1)
    for (let i = 0; i < 5; i++) {
        w.push(sum1 / fre[i]);
        sum2 += w[i]
    }
    console.log(fre)
    for (let i = 0; i < 5; i++) {
        w2.push(w[i] / sum2);
    }
    console.log(w2)

    let myW = [0.5878, 0.2231, 0.0872, 0.0191, 0.0814];
    let resW = [];
    let sumW = 0;
    for (let i = 0; i < myW.length; i++) {
        sumW += myW[i];
    }
    for (let i = 0; i < myW.length; i++) {
        resW.push(myW[i] / sumW)
    }
    console.log('the last weight: ', resW)
    let level = 0.2;
    let k = 0;
    let res = 1;
    let d = [0, 1]
    for (let i = 0; i < d.length; i ++) {
        res -= myW[d[i]];
    }
    res -= level * k;
    let valueDiff = [
        [0,1],
        [0,1,2,4],
        [1],
        [3],
        [],
        [1,2,3],
    ];
    console.log('res', res)
    let levelDiff = [0,0,0,0,4,1]
    for (let i = 0; i < valueDiff.length; i++) {
        res = 1;
        tmpV = valueDiff[i];
        tmpL = levelDiff[i]
        for (let j = 0; j < tmpV.length; j ++) {
            res -= myW[tmpV[j]];
        }

        res -= level * tmpL;
        console.log('res',i,' ', res)
    }
</script>